import{d as T,e as F,f as A,a as U,Q as K}from"./QScrollArea-kJ0XkwaN.js";import{C as $,z as L,J as I,L as S,M as k,d as y,h as q,N as M,B as c,A as r,O as W,P as j,H as J,Q as G,R as _,o as O,c as X,w as Q,a as p,e as Y,F as Z,f as ee,b as te,t as ae}from"./index-CQIyDd2_.js";import{e as le,h as E,f as oe,u as ne,b as re,Q as ie}from"./use-dark-bEKcnp87.js";import{Q as se}from"./QBtn-D245b8FD.js";import{Q as ue,a as D}from"./QItem-CVTo2m7k.js";const ye=$({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:m,emit:i}){const{proxy:{$q:l}}=L(),a=I(k,S);if(a===S)return console.error("QHeader needs to be child of QLayout"),S;const n=y(parseInt(e.heightHint,10)),d=y(!0),z=r(()=>e.reveal===!0||a.view.value.indexOf("H")!==-1||l.platform.is.ios&&a.isContainer.value===!0),b=r(()=>{if(e.modelValue!==!0)return 0;if(z.value===!0)return d.value===!0?n.value:0;const t=n.value-a.scroll.value.position;return t>0?t:0}),u=r(()=>e.modelValue!==!0||z.value===!0&&d.value!==!0),C=r(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),B=r(()=>"q-header q-layout__section--marginal "+(z.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),H=r(()=>{const t=a.rows.value.top,v={};return t[0]==="l"&&a.left.space===!0&&(v[l.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),t[2]==="r"&&a.right.space===!0&&(v[l.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),v});function f(t,v){a.update("header",t,v)}function w(t,v){t.value!==v&&(t.value=v)}function R({height:t}){w(n,t),f("size",t)}function P(t){C.value===!0&&w(d,!0),i("focusin",t)}q(()=>e.modelValue,t=>{f("space",t),w(d,!0),a.animate()}),q(b,t=>{f("offset",t)}),q(()=>e.reveal,t=>{t===!1&&w(d,e.modelValue)}),q(d,t=>{a.animate(),i("reveal",t)}),q(a.scroll,t=>{e.reveal===!0&&w(d,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const x={};return a.instances.header=x,e.modelValue===!0&&f("size",n.value),f("space",e.modelValue),f("offset",b.value),M(()=>{a.instances.header===x&&(a.instances.header=void 0,f("size",0),f("offset",0),f("space",!1))}),()=>{const t=le(m.default,[]);return e.elevated===!0&&t.push(c("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(c(T,{debounce:0,onResize:R})),c("header",{class:B.value,style:H.value,onFocusin:P},t)}}}),be=$({name:"QPageContainer",setup(e,{slots:m}){const{proxy:{$q:i}}=L(),l=I(k,S);if(l===S)return console.error("QPageContainer needs to be child of QLayout"),S;W(j,!0);const a=r(()=>{const n={};return l.header.space===!0&&(n.paddingTop=`${l.header.size}px`),l.right.space===!0&&(n[`padding${i.lang.rtl===!0?"Left":"Right"}`]=`${l.right.size}px`),l.footer.space===!0&&(n.paddingBottom=`${l.footer.size}px`),l.left.space===!0&&(n[`padding${i.lang.rtl===!0?"Right":"Left"}`]=`${l.left.size}px`),n});return()=>c("div",{class:"q-page-container",style:a.value},E(m.default))}}),we=$({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:m,emit:i}){const{proxy:{$q:l}}=L(),a=y(null),n=y(l.screen.height),d=y(e.container===!0?0:l.screen.width),z=y({position:0,direction:"down",inflectionPoint:0}),b=y(0),u=y(J.value===!0?0:F()),C=r(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),B=r(()=>e.container===!1?{minHeight:l.screen.height+"px"}:null),H=r(()=>u.value!==0?{[l.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),f=r(()=>u.value!==0?{[l.lang.rtl===!0?"right":"left"]:0,[l.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function w(o){if(e.container===!0||document.qScrollPrevented!==!0){const s={position:o.position.top,direction:o.direction,directionChanged:o.directionChanged,inflectionPoint:o.inflectionPoint.top,delta:o.delta.top};z.value=s,e.onScroll!==void 0&&i("scroll",s)}}function R(o){const{height:s,width:g}=o;let h=!1;n.value!==s&&(h=!0,n.value=s,e.onScrollHeight!==void 0&&i("scrollHeight",s),x()),d.value!==g&&(h=!0,d.value=g),h===!0&&e.onResize!==void 0&&i("resize",o)}function P({height:o}){b.value!==o&&(b.value=o,x())}function x(){if(e.container===!0){const o=n.value>b.value?F():0;u.value!==o&&(u.value=o)}}let t=null;const v={instances:{},view:r(()=>e.view),isContainer:r(()=>e.container),rootRef:a,height:n,containerHeight:b,scrollbarWidth:u,totalWidth:r(()=>d.value+u.value),rows:r(()=>{const o=e.view.toLowerCase().split(" ");return{top:o[0].split(""),middle:o[1].split(""),bottom:o[2].split("")}}),header:_({size:0,offset:0,space:!1}),right:_({size:300,offset:0,space:!1}),footer:_({size:0,offset:0,space:!1}),left:_({size:300,offset:0,space:!1}),scroll:z,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(o,s,g){v[o][s]=g}};if(W(k,v),F()>0){let o=function(){h=null,V.classList.remove("hide-scrollbar")},s=function(){if(h===null){if(V.scrollHeight>l.screen.height)return;V.classList.add("hide-scrollbar")}else clearTimeout(h);h=setTimeout(o,300)},g=function(N){h!==null&&N==="remove"&&(clearTimeout(h),o()),window[`${N}EventListener`]("resize",s)},h=null;const V=document.body;q(()=>e.container!==!0?"add":"remove",g),e.container!==!0&&g("add"),G(()=>{g("remove")})}return()=>{const o=oe(m.default,[c(A,{onScroll:w}),c(T,{onResize:R})]),s=c("div",{class:C.value,style:B.value,ref:e.container===!0?void 0:a,tabindex:-1},o);return e.container===!0?c("div",{class:"q-layout-container overflow-hidden",ref:a},[c(T,{onResize:P}),c("div",{class:"absolute-full",style:H.value},[c("div",{class:"scroll",style:f.value},[s])])]):s}}}),ce=["ul","ol"],de=$({name:"QList",props:{...ne,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:m}){const i=L(),l=re(e,i.proxy.$q),a=r(()=>ce.includes(e.tag)?null:"list"),n=r(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(l.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>c(e.tag,{class:n.value,role:a.value},E(m.default))}}),pe={__name:"TheNavigation",emits:["close"],setup(e){const m=[{to:"/",icon:"view_sidebar",label:"Detail drawer"},{to:"/list-detail",icon:"view_carousel",label:"Detail panel"},{to:"/feed-row",icon:"view_stream",label:"Feed row"},{to:"/feed-column",icon:"view_column",label:"Feed column"},{to:"/narrow-layout",icon:"view_compact",label:"Narrow layout"}];return(i,l)=>(O(),X(K,{class:"fit"},{default:Q(()=>[p(ie,{class:"lt-md bg-primary text-white"},{default:Q(()=>[p(se,{flat:"",round:"",dense:"",icon:"menu_open",onClick:l[0]||(l[0]=a=>i.$emit("close"))})]),_:1}),p(de,{class:"q-py-md"},{default:Q(()=>[(O(),Y(Z,null,ee(m,(a,n)=>p(ue,{key:n,to:a.to,exact:""},{default:Q(()=>[p(D,{avatar:""},{default:Q(()=>[p(U,{name:a.icon},null,8,["name"])]),_:2},1024),p(D,null,{default:Q(()=>[te(ae(a.label),1)]),_:2},1024)]),_:2},1032,["to"])),64))]),_:1})]),_:1}))}};export{we as Q,pe as _,ye as a,be as b};
